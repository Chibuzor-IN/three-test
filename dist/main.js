!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var o=document.getElementById("scene"),i=function e(t,n,o,i,r,a){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onProgress=function(e){if(e.lengthComputable)e.loaded,e.total},this.onError=function(e){},this.setObject=function(e,t){s.materialURL=e,s.objectURL=t,(new THREE.MTLLoader).load(e,function(e){e.preload(),(new THREE.OBJLoader).setMaterials(e).load(t,function(e){e.position.y=-95,s.scene.add(e),s.object=e},s.onProgress,s.onError)})},this.changeMaterial=function(e){(new THREE.MTLLoader).load(e,function(e){e.preload();var t=Object.keys(e.materials),n=0;s.object.traverse(function(o){o instanceof THREE.Mesh&&(console.log(o.material),o.material=e.materials[t[n]],window.mat=o.material,n+=1,t.length)})})},this.changeObject=function(e){s.objectURL=e,s.scene.remove(s.object),s.setObject(s.materialURL,s.objectURL)},this.changeTexture=function(e){s.object.traverse(function(t){if(t instanceof THREE.Mesh)(new THREE.TextureLoader).load(e,function(e){if(e.wrapS=e.wrapT=THREE.RepeatWrapping,e.offset.set(0,0),e.repeat.set(2,2),t.material instanceof Array)for(var n in t.material)console.log(n),t.material[n].needsUpdate=!0,t.material[n].map=e;else t.material.needsUpdate=!0,t.material.map=e})})},this.setRotation=function(e){s.object.rotation.y+=e},this.onLeave=function(e){s.domContainer.removeEventListener("mousemove",s.onMouseMove),s.domContainer.removeEventListener("mouseup",s.onDragEnd),s.domContainer.removeEventListener("touchmove",s.onMouseMove),s.domContainer.removeEventListener("touchend",s.onDragEnd)},this.onDragEnd=function(e){if(s.domContainer.removeEventListener("mousemove",s.onMouseMove),s.domContainer.removeEventListener("mouseleave",s.onLeave),s.domContainer.removeEventListener("mouseup",s.onDragEnd),s.domContainer.removeEventListener("touchcancel",s.onLeave),s.domContainer.removeEventListener("touchmove",s.onMouseMove),s.domContainer.removeEventListener("touchend",s.onDragEnd),s.moved){var t=!0;window.setTimeout(function(){t=!1,s.moved=!1},500);!function e(){t&&(s.setRotation(s.rotation),requestAnimationFrame(e))}()}else s.moved=!1},this.onMouseMove=function(e){var t=e.clientX,n=(t-s.startPosition)*s.sensitivity;s.moved=!0,s.setRotation(n),s.rotation=n,s.startPosition=t},this.onDragStart=function(e){s.startPosition=e.clientX,s.sensitivity=.005,s.moved=!1,s.domContainer.addEventListener("mouseleave",s.onLeave),s.domContainer.addEventListener("mousemove",s.onMouseMove),s.domContainer.addEventListener("mouseup",s.onDragEnd),s.domContainer.addEventListener("touchcancel",s.onLeave),s.domContainer.addEventListener("touchmove",s.onMouseMove),s.domContainer.addEventListener("touchend",s.onDragEnd)},this.animate=function(){s.domContainer.addEventListener("mousedown",s.onDragStart),s.domContainer.addEventListener("touchstart",s.onDragStart),requestAnimationFrame(s.animate),s.render()},this.render=function(){s.camera.lookAt(s.scene.position),s.renderer.render(s.scene,s.camera)},this.startPosition=0,this.sensitivity=r||.005,this.domContainer=t,this.backgroundColor=a||16777215,this.width=o||t.offsetWidth,this.height=n||t.offsetHeight,this.cameraDistance=i||250,this.camera=new THREE.PerspectiveCamera(45,this.width/this.height,1,2e3),this.camera.position.z=this.cameraDistance,this.scene=new THREE.Scene,this.scene.background=new THREE.Color(this.backgroundColor);var d=new THREE.AmbientLight(13421772,.4);this.scene.add(d);var c=new THREE.PointLight(16777215,.8);this.camera.add(c),this.scene.add(this.camera),this.renderer=new THREE.WebGLRenderer,this.renderer.setSize(this.width,this.height),this.domContainer.appendChild(this.renderer.domElement)};window.Spinner=i,window.spinner=new i(o,600,800,200),spinner.setObject("CAMISA YA 2.mtl","CAMISA YA 2.obj"),spinner.animate()}]);